(ert-deftest bottom-ify-test-basic ()
  "tests core bottomification functionality"
  (should (equal (bottom-ify "Hello world!")
		 (concat "üíñ‚ú®‚ú®,,üëâüëàüíñüíñ,üëâüëàüíñüíñü•∫,,,üëâüëàüíñüíñü•∫,,,üëâüëà"
                         "üíñüíñ‚ú®,üëâüëà‚ú®‚ú®‚ú®,,üëâüëàüíñüíñ‚ú®ü•∫,,,,üëâüëà"
			 "üíñüíñ‚ú®,üëâüëàüíñüíñ‚ú®,,,,üëâüëàüíñüíñü•∫,,,üëâüëà"
                         "üíñüíñüëâüëà‚ú®‚ú®‚ú®,,,üëâüëà"))))

(ert-deftest bottom-ify-controlled-test-basic ()
  "tests collared bottomification functionality"
  (should (equal (bottom-ify-controlled "ab\ncd")
                 (concat "üíñ‚ú®‚ú®‚ú®‚ú®ü•∫,,üëâüëàüíñ‚ú®‚ú®‚ú®‚ú®ü•∫,,,üëâüëà\n"
                         "üëâüëàüíñ‚ú®‚ú®‚ú®‚ú®ü•∫,,,,üëâüëàüíñüíñüëâüëà"))))

(ert-deftest bottom-regress-test-basic ()
  "tests core regression functionality"
  (should (equal (bottom-regress (concat "üíñ‚ú®‚ú®,,üëâüëàüíñüíñ,üëâüëàüíñüíñü•∫,,,üëâüëà"
			                 "üíñüíñü•∫,,,üëâüëàüíñüíñ‚ú®,üëâüëà‚ú®‚ú®‚ú®,,üëâüëà"
			                 "üíñüíñ‚ú®ü•∫,,,,üëâüëàüíñüíñ‚ú®,üëâüëàüíñüíñ‚ú®,,,,"
			                 "üëâüëàüíñüíñü•∫,,,üëâüëàüíñüíñüëâüëà‚ú®‚ú®‚ú®,,,üëâüëà"))
		 "Hello world!")))

(ert-deftest bottom-regress-controlled-test-basic ()
  "tests collared regression functionality"
  (should (equal (bottom-regress-controlled (concat "üíñ‚ú®‚ú®‚ú®‚ú®ü•∫,,üëâüëàüíñ‚ú®‚ú®‚ú®‚ú®ü•∫,,,üëâüëà\n"
                                                    "üëâüëàüíñ‚ú®‚ú®‚ú®‚ú®ü•∫,,,,üëâüëàüíñüíñüëâüëà"))
		 "ab\ncd")))

(ert-deftest bottom-regress-test-cyrillic ()
  "tests core regression functionality on cyrillic multi-codepoint chars"
  (should (equal (bottom-regress bottom--cyrillic-test-data)
		 "–Ø —Ç—É—Ç –±–æ—Ç–∞ –Ω–∞ –∫–æ–ª–µ–Ω–∫–µ —Å–¥–µ–ª–∞–ª–∞")))

(ert-deftest bottom-ify-test-cyrillic ()
  "tests core bottomification functionality on cyrillic multi-codepoint chars"
  (should (equal (bottom-ify "–Ø —Ç—É—Ç –±–æ—Ç–∞ –Ω–∞ –∫–æ–ª–µ–Ω–∫–µ —Å–¥–µ–ª–∞–ª–∞")
		 bottom--cyrillic-test-data)))

;; when making modifications, these are convenient to have around
(defvar bottom--test-data "üíñüíñ‚ú®,üëâüëàüíñüíñ‚ú®,,,,üëâüëàüíñüíñü•∫,,,üëâüëà") ;; -> orl
(defvar bottom--multiline-test-data (concat "üíñ‚ú®‚ú®‚ú®‚ú®ü•∫,,üëâüëàüíñ‚ú®‚ú®‚ú®‚ú®ü•∫,,,üëâüëà\n"
                                   "üëâüëàüíñ‚ú®‚ú®‚ú®‚ú®ü•∫,,,,üëâüëàüíñüíñüëâüëà")) ;; -> "ab\ncd"
(defvar bottom--cyrillic-test-data (concat
  "ü´Çü´Çü´Çü´Çü´Çüíñ‚ú®‚ú®,üëâüëà‚ú®‚ú®‚ú®,,üëâüëàü´Çü´Çü´Çü´Çü´Çüíñ‚ú®‚ú®‚ú®‚ú®üëâüëà"
  "ü´Çü´Çü´Çü´Çü´Çüíñ‚ú®‚ú®‚ú®‚ú®,üëâüëàü´Çü´Çü´Çü´Çü´Çüíñ‚ú®‚ú®‚ú®‚ú®üëâüëà‚ú®‚ú®‚ú®,,üëâüëà"
  "ü´Çü´Çü´Çü´Çü´Çüíñ‚ú®‚ú®,,,üëâüëàü´Çü´Çü´Çü´Çü´Çüíñ‚ú®‚ú®‚ú®ü•∫,üëâüëà"
  "ü´Çü´Çü´Çü´Çü´Çüíñ‚ú®‚ú®‚ú®‚ú®üëâüëàü´Çü´Çü´Çü´Çü´Çüíñ‚ú®‚ú®,,üëâüëà‚ú®‚ú®‚ú®,,üëâüëà"
  "ü´Çü´Çü´Çü´Çü´Çüíñ‚ú®‚ú®‚ú®ü•∫üëâüëàü´Çü´Çü´Çü´Çü´Çüíñ‚ú®‚ú®,,üëâüëà‚ú®‚ú®‚ú®,,üëâüëà"
  "ü´Çü´Çü´Çü´Çü´Çüíñ‚ú®‚ú®‚ú®,,üëâüëàü´Çü´Çü´Çü´Çü´Çüíñ‚ú®‚ú®‚ú®ü•∫,üëâüëà"
  "ü´Çü´Çü´Çü´Çü´Çüíñ‚ú®‚ú®‚ú®,,,üëâüëàü´Çü´Çü´Çü´Çü´Çüíñ‚ú®‚ú®ü•∫,,üëâüëà"
  "ü´Çü´Çü´Çü´Çü´Çüíñ‚ú®‚ú®‚ú®ü•∫üëâüëàü´Çü´Çü´Çü´Çü´Çüíñ‚ú®‚ú®‚ú®,,üëâüëà"
  "ü´Çü´Çü´Çü´Çü´Çüíñ‚ú®‚ú®ü•∫,,üëâüëà‚ú®‚ú®‚ú®,,üëâüëàü´Çü´Çü´Çü´Çü´Çüíñ‚ú®‚ú®‚ú®ü•∫,,,,üëâüëà"
  "ü´Çü´Çü´Çü´Çü´Çüíñ‚ú®‚ú®ü•∫,üëâüëàü´Çü´Çü´Çü´Çü´Çüíñ‚ú®‚ú®ü•∫,,üëâüëà"
  "ü´Çü´Çü´Çü´Çü´Çüíñ‚ú®‚ú®‚ú®,,,üëâüëàü´Çü´Çü´Çü´Çü´Çüíñ‚ú®‚ú®,,üëâüëà"
  "ü´Çü´Çü´Çü´Çü´Çüíñ‚ú®‚ú®‚ú®,,,üëâüëàü´Çü´Çü´Çü´Çü´Çüíñ‚ú®‚ú®,,üëâüëà")) ;; -> "–Ø —Ç—É—Ç –±–æ—Ç–∞ –Ω–∞ –∫–æ–ª–µ–Ω–∫–µ —Å–¥–µ–ª–∞–ª–∞"
